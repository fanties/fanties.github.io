(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{383:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"vue3中v-for与v-if优先级变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3中v-for与v-if优先级变化"}},[t._v("#")]),t._v(" Vue3中v-for与v-if优先级变化")]),t._v(" "),a("ul",[a("li",[t._v("vue 2.x,在同一个元素中使用v-for和v-if，v-for会先生效")]),t._v(" "),a("li",[t._v("vue 3.x中，v-if优先级高于v-for")])]),t._v(" "),a("h3",{attrs:{id:"优先级测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优先级测试"}},[t._v("#")]),t._v(" 优先级测试")]),t._v(" "),a("p",[t._v("在vue2中，像下面这样使用，是没有问题的")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item in list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-if")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item =='blue'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    {{item}}\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("在vue3中，会提示item找不到：\n"),a("img",{attrs:{src:"http://picqq.oss-cn-shenzhen.aliyuncs.com//pic/md/20201212191530.png",alt:"20201212191530"}})]),t._v(" "),a("h3",{attrs:{id:"经验总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#经验总结"}},[t._v("#")]),t._v(" 经验总结")]),t._v(" "),a("p",[t._v("一般eslint会提示不要再同一个节点中使用v-for和v-if，在实际开发中，这样会可能会产生一些歧义，不同版本用法不兼容，所以我们应该避免这样的用法。")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[vue/no-use-v-if-with-v-for]\nThe 'list' variable inside 'v-for' directive should be replaced with a computed property that returns filtered array instead. You should not mix 'v-for' with 'v-if'.eslint-plugin-vue\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("合理的用法：")]),t._v(" "),a("ul",[a("li",[t._v("如果需要满足条件再渲染v-for，我们可以在外层加一个template包裹，在template上面加v-if")]),t._v(" "),a("li",[t._v("如果需要对循环之后，选择渲染某一个，我们可以v-for本身用template,v-if用在内部标签上")]),t._v(" "),a("li",[t._v("或者我们通过计算属性，来过滤要渲染的list，这会更加规范。")])]),t._v(" "),a("h3",{attrs:{id:"参考连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考连接"}},[t._v("#")]),t._v(" 参考连接")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://v3.cn.vuejs.org/style-guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue官方风格指南"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);